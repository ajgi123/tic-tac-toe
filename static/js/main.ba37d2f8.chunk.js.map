{"version":3,"sources":["types/cellKind.ts","components/atoms/button/Button.tsx","hooks/useLocalStorage.ts","components/atoms/select/Select.tsx","components/Gameboard/GameboardItem/GameboardItem.module.scss","helpers/localStorageService.ts","components/absolute-wrapper/AbsoluteWrapper.tsx","pages/simulation-page/simulation-page-components/simulated-game/SimulatedGame.tsx","components/atoms/input-number/InputNumber.tsx","components/Gameboard/GameboardItem/GameboardItem.tsx","components/Gameboard/Gameboard.tsx","components/navbar/dropdown-menu/dropdown-menu-item/DropdownMenuItem.module.scss","components/navbar/dropdown-menu/DropdownMenu.module.scss","pages/simulation-page/SimulationPage.module.scss","pages/simulation-page/simulation-page-components/pagination/Pagination.module.scss","components/navbar/Navbar.module.scss","components/navbar/navbar-items/NavbarItem.module.scss","pages/home-page/HomePage.module.scss","components/atoms/select/Select.module.scss","pages/simulation-page/simulation-page-components/simulated-game/SimulatedGame.module.scss","components/atoms/input-number/InputNumber.module.scss","components/navbar/dropdown/Dropdown.module.scss","components/Gameboard/Gameboard.module.scss","components/absolute-wrapper/AbsoluteWrapper.module.scss","pages/home-page/home-page-components/AivsAi-mode/AIvsAI.module.scss","components/atoms/button/Button.module.scss","pages/simulation-page/SimulationPage.tsx","components/atoms/loading/Loading.tsx","components/atoms/loading/Loading.module.scss","hooks/usePagination.ts","pages/simulation-page/simulation-page-components/pagination/Pagination.tsx","worker.ts","logic/game-mode-info.ts","context/gameMode-context.tsx","components/navbar/dropdown-menu/dropdown-menu-item/DropdownMenuItem.tsx","components/navbar/dropdown-menu/DropdownMenu.tsx","components/navbar/dropdown/Dropdown.tsx","components/navbar/navbar-items/NavbarItem.tsx","components/navbar/Navbar.tsx","helpers/typedObjectKeys.ts","logic/simulationInfo.ts","logic/checkForWinner.ts","logic/AI.ts","helpers/bindTrailingArgs.ts","pages/home-page/home-page-components/AivsAi-mode/AivsAi.tsx","hooks/useStateRelatedToProp.ts","pages/home-page/home-page-components/PvsP-mode/PvsP.tsx","helpers/generateEmptyGameState.ts","hooks/useUndoRedo.ts","pages/home-page/home-page-components/easy-mode/Easy.tsx","pages/home-page/HomePage.tsx","App.tsx","index.tsx"],"names":["CellKind","Button","props","className","styles","button","onClick","disabled","name","useLocalStorage","key","initialValue","initialiazeState","useCallback","localStorageService","getItem","useState","storedValue","setStoredValue","useEffect","setItem","Select","select_label","select","value","onChange","e","currentTarget","options","map","option","label","module","exports","localStorage","JSON","stringify","otherwise","data","parse","AbsoluteWrapper","absolute_wrap_div","children","SimulatedGame","result","winner","Empty","simulated_game","index","simulated_game_gameboard_div","gameState","winCombination","clickHandler","InputNumber","min","max","step","inputNumber","timeout","setTimeout","clearTimeout","input_label","input","type","GameboardItem","style","empty","cellFill","Circle","circle","Cross","cross","includes","length","draw","gameboard_item_div","Gameboard","gridColumns","Math","sqrt","gameboard_div","gridTemplateColumns","gridTemplateRows","item","numberInput","initialInputState","circleAi","crossAi","number","mapSimGames","game","SimulationPage","simulatedGames","setSimulatedGames","isLoading","setIsLoading","inputsState","setInputsState","pathname","useLocation","path","useRouteMatch","history","useHistory","onClickHandler","a","worker","Worker","wrap","simulate","games","push","reduce","resArray","simulation_page","simulation_page_grid_div","prevState","Fragment","simulation_pie_div","title","color","dataEntry","labelStyle","fontSize","fontFamily","animate","labelPosition","render","array","mapFunction","to","Loading","text","split","base","loop","config","wobbly","from","transform","opacity","springs","useSprings","t","i","delay","loading_div","s","div","usePagination","howManymin","pageNum","arrayToPaginate","howManyInitialState","useMemo","inputValue","passedValue","page","setPage","howMany","setHowMany","pasedValue","startIndex","endIndex","ceil","paginatedArray","slice","isNaN","prevPage","nextPage","Pagination","useParams","buttons","pagination","pagination_grid_div","pagination_flex_div","GameModeInfo","PvsP","AIvsAI","Easy","Hard","localStorageKey","initialGameMode","GameModeContext","React","createContext","gameMode","setGameMode","GameModeContextProvider","Provider","DropdownMenuItem","isActive","active","onMouseEnter","onMouseEnterHandler","DropdownMenu","dropdown_menu","dropdown_menu_ul","dropdown_menu_p","info","Dropdown","dropdown","NavbarItem","open","setOpen","nav_item","onMouseLeave","route","nav_item_button","gameModeInfoKeys","object","k","arr","typedObjectKeys","Navbar","setInfo","useContext","navbar","navbar_ul","checkForWinner","lengthSqrt","rowSet","Set","rowKeys","columnSet","columnKeys","diagonalSet","diagonalKeys","checkForDrawSet","indexDiagonal","j","indexRow","indexColumn","add","size","has","values","next","clear","getEmptySpotsArray","prevVal","curVal","randomAi","emptySpotsArray","floor","random","miniMaxScope","aiPlayer","opponent","miniMax","player","memo","target","score","moves","move","currentGameState","bestMove","curValue","bindTrailingArgs","func","boundArgs","args","allArgs","isWin","moveAI","turn","setCircleAi","setCrossAi","isPlaying","setIsPlaying","timeOut","aiFunc","aivsai_div","useStateRelatedToProp","prop","state","setState","initialSize","toString","gridSize","setGridSize","generateEmptyGameState","useUndoRedo","initialArray","setHistory","addItemToHistory","resetHistory","undo","redo","initialState","changeState","initialRender","useRef","current","gameStateCopy","HomePage","win","setWin","changedGameboardState","aiMove","bindedMinimax","gamestate","winText","homepage","homepage_div_gameboard","App","location","transitions","useTransition","slow","enter","leave","component","ReactDOM","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.ba37d2f8.chunk.js","sourcesContent":["export enum CellKind {\r\n  Circle = \"Circle\",\r\n  Cross = \"Cross\",\r\n  Empty = \"Draw\",\r\n}\r\n","import styles from \"./Button.module.scss\";\r\n\r\ntype ButtonPropsType = {\r\n  name: string;\r\n  onClick: any;\r\n  disabled?: boolean;\r\n};\r\n\r\nconst Button = (props: ButtonPropsType) => {\r\n  return (\r\n    <button\r\n      className={styles.button}\r\n      onClick={props.onClick}\r\n      disabled={props.disabled}\r\n    >\r\n      {props.name}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import { localStorageService } from \"../helpers/localStorageService\";\r\nimport {\r\n  Dispatch,\r\n  SetStateAction,\r\n  useCallback,\r\n  useEffect,\r\n  useState,\r\n} from \"react\";\r\n\r\nconst useLocalStorage = <T>(\r\n  key: string,\r\n  initialValue: T\r\n): [T, Dispatch<SetStateAction<T>>] => {\r\n  const initialiazeState = useCallback(() => {\r\n    const localData = localStorageService.getItem<T>(key, initialValue);\r\n    return localData;\r\n  }, [key, initialValue]);\r\n\r\n  const [storedValue, setStoredValue] = useState<T>(initialiazeState);\r\n\r\n  useEffect(() => {\r\n    setStoredValue(initialiazeState);\r\n  }, [initialiazeState]);\r\n\r\n  useEffect(() => {\r\n    localStorageService.setItem(key, storedValue);\r\n  }, [storedValue]);\r\n\r\n  return [storedValue, setStoredValue];\r\n};\r\n\r\nexport default useLocalStorage;\r\n","import styles from \"./Select.module.scss\";\r\n\r\ntype OptionValue = string | number;\r\n\r\ntype Option<T extends OptionValue> = {\r\n  value: T;\r\n  label: string;\r\n};\r\n\r\ntype SelectProps<T extends OptionValue> = {\r\n  options: Option<T>[];\r\n  value: T;\r\n  onChange: (value: string) => void;\r\n  name?: string;\r\n};\r\nconst Select = <T extends OptionValue>(props: SelectProps<T>) => {\r\n  const handleOnChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n    props.onChange(e.currentTarget.value);\r\n  };\r\n  return (\r\n    <label className={styles.select_label}>\r\n      {props.name}\r\n      <select\r\n        className={styles.select}\r\n        value={props.value}\r\n        onChange={handleOnChange}\r\n      >\r\n        {props.options.map((option) => (\r\n          <option key={option.value} value={option.value}>\r\n            {option.label}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </label>\r\n  );\r\n};\r\n\r\nexport default Select;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gameboard_item_div\":\"GameboardItem_gameboard_item_div__3929z\",\"cross\":\"GameboardItem_cross__x8R52\",\"circle\":\"GameboardItem_circle__1bNu0\",\"winner\":\"GameboardItem_winner__1Rvtl\",\"draw\":\"GameboardItem_draw__Tx4YD\"};","class LocalStorageService {\r\n  setItem(key: string, value: any): void {\r\n    localStorage.setItem(key, JSON.stringify({ value }));\r\n  }\r\n\r\n  getItem<T>(key: string): T | null;\r\n  getItem<T>(key: string, otherwise: T): T;\r\n  getItem<T>(key: string, otherwise?: T): T | null {\r\n    const data: string | null = localStorage.getItem(key);\r\n    if (data !== null) {\r\n      return JSON.parse(data).value;\r\n    }\r\n\r\n    if (otherwise) {\r\n      return otherwise;\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\nexport const localStorageService = new LocalStorageService();\r\n","import { ReactNode } from \"react\";\r\nimport styles from \"./AbsoluteWrapper.module.scss\";\r\n\r\ntype AbsoluteWrapperProps = {\r\n  children: ReactNode;\r\n};\r\n\r\nconst AbsoluteWrapper = (props: AbsoluteWrapperProps) => {\r\n  return <div className={styles.absolute_wrap_div}>{props.children}</div>;\r\n};\r\n\r\nexport default AbsoluteWrapper;\r\n","import styles from \"./SimulatedGame.module.scss\";\r\nimport { CellKind } from \"../../../../types/cellKind\";\r\nimport Gameboard from \"../../../../components/Gameboard/Gameboard\";\r\n\r\ntype SimulatedGamePropsType = {\r\n  gameState: CellKind[];\r\n  winCombination: number[] | undefined;\r\n  index: number;\r\n  winner: CellKind;\r\n};\r\n\r\nconst SimulatedGame = (props: SimulatedGamePropsType) => {\r\n  let result = `${props.winner} won`;\r\n\r\n  if (props.winner === CellKind.Empty) {\r\n    result = \"Draw\";\r\n  }\r\n\r\n  return (\r\n    <div className={styles.simulated_game}>\r\n      <h1>{`Game: ${props.index}`}</h1>\r\n      <h2>{`Result: ${result}`}</h2>\r\n      <div className={styles.simulated_game_gameboard_div}>\r\n        <Gameboard\r\n          gameState={props.gameState}\r\n          winCombination={props.winCombination}\r\n          clickHandler={() => {}}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SimulatedGame;\r\n","import { useEffect } from \"react\";\r\nimport styles from \"./InputNumber.module.scss\";\r\n\r\ntype InputNumberPropsType = {\r\n  value: number;\r\n  onChange: (value: number) => void;\r\n  min: number;\r\n  max: number;\r\n  step: number;\r\n  name?: string;\r\n};\r\n\r\nconst InputNumber = ({\r\n  value,\r\n  onChange,\r\n  min,\r\n  max,\r\n  step,\r\n  name,\r\n}: InputNumberPropsType) => {\r\n  useEffect(() => {\r\n    let inputNumber = value;\r\n\r\n    if (inputNumber > max || inputNumber < min) {\r\n      inputNumber = inputNumber > max ? max : min;\r\n      const timeout = setTimeout(() => {\r\n        onChange(inputNumber);\r\n      }, 200);\r\n      return () => {\r\n        clearTimeout(timeout);\r\n      };\r\n    }\r\n  }, [value]);\r\n\r\n  const onChangeHandler = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const inputNumber = +e.currentTarget.value;\r\n    onChange(inputNumber);\r\n  };\r\n\r\n  return (\r\n    <label className={styles.input_label}>\r\n      {name}\r\n      <input\r\n        className={styles.input}\r\n        type=\"number\"\r\n        value={value}\r\n        onChange={onChangeHandler}\r\n        min={min}\r\n        max={max}\r\n        step={step}\r\n      ></input>\r\n    </label>\r\n  );\r\n};\r\n\r\nexport default InputNumber;\r\n","\r\nimport styles from \"./GameboardItem.module.scss\";\r\nimport { CellKind } from \"../../../types/cellKind\";\r\n\r\ntype GameboardItemProps = {\r\n  cellFill: CellKind;\r\n  index: number;\r\n  winCombination: number[] | undefined;\r\n  clickHandler: (index: number) => void;\r\n};\r\n\r\nconst GameboardItem = (props: GameboardItemProps) => {\r\n  const onClickHandler = () => {\r\n    if (props.cellFill !== CellKind.Empty) return;\r\n    props.clickHandler(props.index);\r\n  };\r\n\r\n  let style = styles.empty;\r\n\r\n  if (props.cellFill === CellKind.Circle) {\r\n    style = styles.circle;\r\n  }\r\n\r\n  if (props.cellFill === CellKind.Cross) {\r\n    style = styles.cross;\r\n  }\r\n\r\n  if (props.winCombination && props.winCombination.includes(props.index)) {\r\n    style = `${style} ${styles.winner}`;\r\n  }\r\n\r\n  if (props.winCombination && !props.winCombination.length) {\r\n    style = `${style} ${styles.draw}`;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      onClick={onClickHandler}\r\n      className={`${styles.gameboard_item_div} ${style}`}\r\n    ></div>\r\n  );\r\n};\r\n\r\nexport default GameboardItem;\r\n","import styles from \"./Gameboard.module.scss\";\r\nimport { CellKind } from \"../../types/cellKind\";\r\nimport GameboardItem from \"./GameboardItem/GameboardItem\";\r\n\r\ntype GameboardProps = {\r\n  gameState: CellKind[];\r\n  winCombination: number[] | undefined;\r\n  clickHandler: (index: number) => void;\r\n};\r\n\r\nconst Gameboard = (props: GameboardProps) => {\r\n  const gridColumns = Math.sqrt(props.gameState.length);\r\n  return (\r\n    <div\r\n      className={styles.gameboard_div}\r\n      style={{\r\n        gridTemplateColumns: `repeat(${gridColumns}, 1fr)`,\r\n        gridTemplateRows: `repeat(${gridColumns}, 1fr)`,\r\n      }}\r\n    >\r\n      {props.gameState.map((item, index) => {\r\n        return (\r\n          <GameboardItem\r\n            key={index}\r\n            index={index}\r\n            cellFill={item}\r\n            clickHandler={props.clickHandler}\r\n            winCombination={props.winCombination}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Gameboard;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"DropdownMenuItem_item__3Ag1i\",\"active\":\"DropdownMenuItem_active__3gaGt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropdown_menu\":\"DropdownMenu_dropdown_menu__3AN9h\",\"dropdown_menu_ul\":\"DropdownMenu_dropdown_menu_ul__z1JGj\",\"dropdown_menu_p\":\"DropdownMenu_dropdown_menu_p__nFtxK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"simulation_page\":\"SimulationPage_simulation_page__3PNR_\",\"simulation_page_grid_div\":\"SimulationPage_simulation_page_grid_div__48Jlf\",\"select\":\"SimulationPage_select__3uCKV\",\"simulation_pie_div\":\"SimulationPage_simulation_pie_div__2ffc_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__3MM1D\",\"pagination_grid_div\":\"Pagination_pagination_grid_div__yDBJL\",\"pagination_flex_div\":\"Pagination_pagination_flex_div__3ekop\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__1d0oY\",\"navbar_ul\":\"Navbar_navbar_ul__l91T-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav_item\":\"NavbarItem_nav_item__3xXER\",\"nav_item_button\":\"NavbarItem_nav_item_button__24DG6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"homepage\":\"HomePage_homepage__1klUk\",\"homepage_div_gameboard\":\"HomePage_homepage_div_gameboard__2J9Pt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"select_label\":\"Select_select_label__AsInw\",\"select\":\"Select_select__23rDm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"simulated_game\":\"SimulatedGame_simulated_game__2fQgm\",\"simulated_game_gameboard_div\":\"SimulatedGame_simulated_game_gameboard_div__1E42G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input_label\":\"InputNumber_input_label__K_elD\",\"input\":\"InputNumber_input__3KllJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropdown\":\"Dropdown_dropdown__21DRP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gameboard_div\":\"Gameboard_gameboard_div__3l_Co\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"absolute_wrap_div\":\"AbsoluteWrapper_absolute_wrap_div__2RbBF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aivsai_div\":\"AIvsAI_aivsai_div__kB9s7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3NkHr\"};","import styles from \"./SimulationPage.module.scss\";\r\nimport React, { useState } from \"react\";\r\nimport Pagination from \"./simulation-page-components/pagination/Pagination\";\r\nimport AbsoluteWrapper from \"../../components/absolute-wrapper/AbsoluteWrapper\";\r\nimport { ReturnTypeSimulate } from \"../../logic/simulate\";\r\nimport Button from \"../../components/atoms/button/Button\";\r\nimport InputNumber from \"../../components/atoms/input-number/InputNumber\";\r\nimport Select from \"../../components/atoms/select/Select\";\r\nimport Loading from \"../../components/atoms/loading/Loading\";\r\nimport SimulatedGame from \"./simulation-page-components/simulated-game/SimulatedGame\";\r\nimport useLocalStorage from \"../../hooks/useLocalStorage\";\r\nimport { ArrayElement } from \"../../helpers/ArrayElement\";\r\nimport { wrap } from \"comlink\";\r\nimport { PieChart } from \"react-minimal-pie-chart\";\r\nimport { CellKind } from \"../../types/cellKind\";\r\nimport {\r\n  useHistory,\r\n  useRouteMatch,\r\n  Switch,\r\n  Route,\r\n  useLocation,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\n\r\nconst numberInput = {\r\n  min: 1,\r\n  max: 50,\r\n  step: 1,\r\n};\r\n\r\nconst options = [\r\n  { value: \"random\", label: \"RandomAI\" },\r\n  { value: \"miniMax\", label: \"MiniMax\" },\r\n];\r\n\r\nconst initialInputState = {\r\n  circleAi: options[0].value,\r\n  crossAi: options[0].value,\r\n  number: numberInput.min,\r\n};\r\n\r\nconst mapSimGames = (game: ArrayElement<ReturnTypeSimulate>, index: number) => {\r\n  return (\r\n    <SimulatedGame\r\n      gameState={game.gameState}\r\n      winCombination={game.winCombination}\r\n      index={game.index}\r\n      winner={game.winner}\r\n      key={index}\r\n    />\r\n  );\r\n};\r\n\r\nconst SimulationPage = () => {\r\n  const [simulatedGames, setSimulatedGames] =\r\n    useLocalStorage<null | ReturnTypeSimulate>(\"simGame\", null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [inputsState, setInputsState] = useLocalStorage(\r\n    \"inputState\",\r\n    initialInputState\r\n  );\r\n  let { pathname } = useLocation();\r\n  let { path } = useRouteMatch();\r\n  let history = useHistory();\r\n\r\n  const onClickHandler = async () => {\r\n    if (isLoading) return;\r\n    setIsLoading(true);\r\n    const worker = new Worker(\"../../worker\", {\r\n      name: \"simulateWorker\",\r\n      type: \"module\",\r\n    });\r\n    const { simulate } = wrap<import(\"../../worker\").SimulateWorker>(worker);\r\n    const games = await simulate(\r\n      inputsState.number,\r\n      inputsState.circleAi,\r\n      inputsState.crossAi\r\n    );\r\n    setSimulatedGames(games);\r\n    setIsLoading(false);\r\n    history.push(`${path}/1`);\r\n  };\r\n\r\n  const selectCircleAi = (value: string) => {\r\n    setInputsState((prevState) => {\r\n      return { ...prevState, circleAi: value };\r\n    });\r\n  };\r\n\r\n  const selectCrossAi = (value: string) => {\r\n    setInputsState((prevState) => {\r\n      return { ...prevState, crossAi: value };\r\n    });\r\n  };\r\n\r\n  const changeNumber = (value: number) => {\r\n    setInputsState((prevState) => {\r\n      return { ...prevState, number: value };\r\n    });\r\n  };\r\n\r\n  const showHideGames = () => {\r\n    if (pathname === path) {\r\n      history.push(`${path}/1`);\r\n      return;\r\n    }\r\n\r\n    history.push(`${path}`);\r\n  };\r\n\r\n  let data: [number, number, number];\r\n\r\n  if (simulatedGames) {\r\n    data = simulatedGames.reduce<[number, number, number]>(\r\n      (resArray, game) => {\r\n        if (game.winner === CellKind.Empty) {\r\n          resArray[0]++;\r\n        }\r\n        if (game.winner === CellKind.Circle) {\r\n          resArray[1]++;\r\n        }\r\n        if (game.winner === CellKind.Cross) {\r\n          resArray[2]++;\r\n        }\r\n        return resArray;\r\n      },\r\n      [0, 0, 0]\r\n    );\r\n  }\r\n\r\n  return (\r\n    <AbsoluteWrapper>\r\n      <div className={styles.simulation_page}>\r\n        <div className={styles.simulation_page_grid_div}>\r\n          <Select\r\n            options={options}\r\n            value={inputsState.circleAi}\r\n            onChange={selectCircleAi}\r\n            name=\"Circle AI:\"\r\n          />\r\n          <Select\r\n            options={options}\r\n            value={inputsState.crossAi}\r\n            onChange={selectCrossAi}\r\n            name=\"Cross AI:\"\r\n          />\r\n          <InputNumber\r\n            min={numberInput.min}\r\n            max={numberInput.max}\r\n            step={numberInput.step}\r\n            value={inputsState.number}\r\n            onChange={changeNumber}\r\n            name=\"Number of simulation:\"\r\n          />\r\n          <Button onClick={onClickHandler} name=\"Simulate\" />\r\n        </div>\r\n        {isLoading && <Loading name=\"SIMULATING...\" />}\r\n        {data!! && (\r\n          <React.Fragment>\r\n            <div className={styles.simulation_pie_div}>\r\n              <PieChart\r\n                data={[\r\n                  { title: \"Draw\", value: data[0], color: \"#E9B5B4\" },\r\n                  { title: \"Circle\", value: data[1], color: \"#A5A6BC\" },\r\n                  { title: \"Cross\", value: data[2], color: \"#BBD0BA\" },\r\n                ]}\r\n                label={({ dataEntry }) => {\r\n                  if (dataEntry.value > 0) {\r\n                    return `${dataEntry.title} ${dataEntry.value}`;\r\n                  }\r\n                }}\r\n                labelStyle={{\r\n                  fontSize: \"0.35rem\",\r\n                  fontFamily: \"inherit\",\r\n                }}\r\n                animate={true}\r\n                labelPosition={50}\r\n              />\r\n            </div>\r\n            <Button\r\n              name={path === pathname ? \"Show Games\" : \"Hide Games\"}\r\n              onClick={showHideGames}\r\n            />\r\n          </React.Fragment>\r\n        )}\r\n        <Switch>\r\n          <Route\r\n            path={`${path}/:pageNum`}\r\n            render={(props) => {\r\n              if (simulatedGames) {\r\n                return (\r\n                  <Pagination\r\n                    {...props}\r\n                    path={path}\r\n                    array={simulatedGames}\r\n                    mapFunction={mapSimGames}\r\n                  />\r\n                );\r\n              }\r\n              return <Redirect to={path} />;\r\n            }}\r\n          />\r\n        </Switch>\r\n      </div>\r\n    </AbsoluteWrapper>\r\n  );\r\n};\r\n\r\nexport default SimulationPage;\r\n","import styles from \"./Loading.module.scss\";\r\nimport { useSprings, animated, config } from \"@react-spring/web\";\r\n\r\ntype LoadingProps = {\r\n  name: string;\r\n};\r\n\r\nconst Loading = (props: LoadingProps) => {\r\n  const text = props.name.split(\"\");\r\n\r\n  const base = {\r\n    loop: true,\r\n    config: config.wobbly,\r\n    from: { transform: \"translate3d(0,0,0)\", opacity: 1, color: \"#D46615\" },\r\n    to: [\r\n      { transform: \"translate3d(0,-40px,0)\", opacity: 0, color: \"#7BFF33\" },\r\n      { transform: \"translate3d(0,0,0)\", opacity: 1, color: \"#D46615\" },\r\n    ],\r\n  };\r\n\r\n  const springs = useSprings(\r\n    text.length,\r\n    text.map((t, i) => ({ ...base, delay: 10 * i }))\r\n  );\r\n\r\n  return (\r\n    <div className={styles.loading_div}>\r\n      {springs.map((s, i) => {\r\n        return (\r\n          <animated.div key={`char${i}`} style={s}>\r\n            {text[i] === \" \" ? <>&nbsp;</> : text[i]}\r\n          </animated.div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading_div\":\"Loading_loading_div__HqqQw\"};","import { useMemo, useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport useLocalStorage from \"./useLocalStorage\";\r\n\r\nconst usePagination = <T extends any[]>(\r\n  howManymin: number,\r\n  pageNum: string,\r\n  path: string,\r\n  arrayToPaginate: T\r\n) => {\r\n  const howManyInitialState = useMemo(() => {\r\n    return {\r\n      inputValue: howManymin,\r\n      passedValue: howManymin,\r\n    };\r\n  }, [howManymin]);\r\n\r\n  const [page, setPage] = useState(1);\r\n  const [howMany, setHowMany] = useLocalStorage(\"howMany\", howManyInitialState);\r\n\r\n  let history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (howMany.passedValue !== howMany.inputValue) {\r\n      const timeout = setTimeout(() => {\r\n        setHowMany((prevState) => {\r\n          return { ...prevState, pasedValue: prevState.inputValue };\r\n        });\r\n        history.push(`${path}/1`);\r\n      }, 500);\r\n      return () => {\r\n        clearTimeout(timeout);\r\n      };\r\n    }\r\n  }, [howMany.inputValue, setHowMany, path, howMany.passedValue, history]);\r\n\r\n  let max = 1;\r\n  const startIndex = (page - 1) * howMany.passedValue;\r\n  const endIndex = page * howMany.passedValue;\r\n\r\n  max = Math.ceil(arrayToPaginate.length / howMany.passedValue);\r\n  const paginatedArray = arrayToPaginate.slice(startIndex, endIndex) as T;\r\n\r\n  useEffect(() => {\r\n    if (isNaN(+pageNum) || +pageNum < 1) {\r\n      history.push(`${path}/1`);\r\n      return;\r\n    }\r\n    if (+pageNum > max) {\r\n      history.push(`${path}/${max}`);\r\n      return;\r\n    }\r\n\r\n    setPage(+pageNum);\r\n  }, [pageNum, history, path, max]);\r\n\r\n  const onChange = (value: number) => {\r\n    setHowMany((prevState) => {\r\n      return { ...prevState, inputValue: value };\r\n    });\r\n  };\r\n\r\n  const clickHandler = (index: number) => {\r\n    history.push(`${path}/${index}`);\r\n  };\r\n\r\n  const prevPage = () => {\r\n    history.push(`${path}/${page - 1}`);\r\n  };\r\n\r\n  const nextPage = () => {\r\n    history.push(`${path}/${page + 1}`);\r\n  };\r\n\r\n  return {\r\n    paginatedArray,\r\n    onChange,\r\n    clickHandler,\r\n    prevPage,\r\n    nextPage,\r\n    max,\r\n    howMany,\r\n    page,\r\n  };\r\n};\r\n\r\nexport default usePagination;\r\n","import styles from \"./Pagination.module.scss\";\r\nimport SimulatedGame from \"../simulated-game/SimulatedGame\";\r\nimport Button from \"../../../../components/atoms/button/Button\";\r\nimport InputNumber from \"../../../../components/atoms/input-number/InputNumber\";\r\nimport usePagination from \"../../../../hooks/usePagination\";\r\nimport { ArrayElement } from \"../../../../helpers/ArrayElement\";\r\nimport { ReturnTypeSimulate } from \"../../../../logic/simulate\";\r\nimport { useParams } from \"react-router\";\r\nimport { ReactNode } from \"react\";\r\n\r\ntype PaginationPropsType = {\r\n  path: string;\r\n  array: ReturnTypeSimulate;\r\n  mapFunction: (\r\n    item: ArrayElement<ReturnTypeSimulate>,\r\n    index: number\r\n  ) => ReactNode;\r\n};\r\n\r\nconst Pagination = (props: PaginationPropsType) => {\r\n  let { pageNum } = useParams<{ pageNum: string }>();\r\n\r\n  const {\r\n    paginatedArray,\r\n    onChange,\r\n    clickHandler,\r\n    prevPage,\r\n    nextPage,\r\n    max,\r\n    howMany,\r\n    page,\r\n  } = usePagination(9, pageNum, props.path, props.array);\r\n\r\n  const buttons = [];\r\n\r\n  for (let i = 1; i <= max; i++) {\r\n    let button = (\r\n      <Button\r\n        onClick={() => [clickHandler(i)]}\r\n        key={i}\r\n        disabled={page === i}\r\n        name={`${i}`}\r\n      />\r\n    );\r\n    buttons.push(button);\r\n  }\r\n\r\n  return (\r\n    <div className={styles.pagination}>\r\n      <InputNumber\r\n        min={9}\r\n        max={15}\r\n        step={1}\r\n        value={howMany.inputValue}\r\n        onChange={onChange}\r\n        name={\"Numbers of games per page\"}\r\n      />\r\n      <div className={styles.pagination_grid_div}>\r\n        {paginatedArray.map((game, index) => {\r\n          return (\r\n            <SimulatedGame\r\n              gameState={game.gameState}\r\n              winCombination={game.winCombination}\r\n              index={game.index}\r\n              winner={game.winner}\r\n              key={index}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n      <div className={styles.pagination_flex_div}>\r\n        <Button onClick={prevPage} disabled={page === 1} name={`<<`} />\r\n        {buttons}\r\n        <Button onClick={nextPage} disabled={page === max} name={`>>`} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","module.exports = __webpack_public_path__ + \"static/js/simulateWorker.9f2374d0.chunk.worker.js\"","import { GameModesType } from \"../types/game-mode-type\";\r\n\r\nexport type GameModeInfoType = {\r\n  [Mode in GameModesType]: string;\r\n};\r\n\r\nexport const GameModeInfo: GameModeInfoType = {\r\n  PvsP: \"Play against a friend on 3x3 to 5x5 board\",\r\n  AIvsAI: \"Watch AI play against other AI\",\r\n  Easy: \"Play against random AI. You can undo your moves\",\r\n  Hard: \"Play against unbeatable AI\",\r\n};\r\n","import React, { ReactNode, useState, useEffect } from \"react\";\r\nimport { GameModesType } from \"../types/game-mode-type\";\r\nimport { localStorageService } from \"../helpers/localStorageService\";\r\n\r\n\r\nexport type GameModeContextType = {\r\n  gameMode: GameModesType;\r\n  setGameMode: (gameMode: GameModesType) => void;\r\n};\r\n\r\nconst localStorageKey = \"gameMode\";\r\n\r\nconst initialGameMode = localStorageService.getItem<GameModesType>(\r\n  localStorageKey,\r\n  \"Easy\"\r\n);\r\n\r\nexport const GameModeContext = React.createContext({\r\n  gameMode: initialGameMode,\r\n  setGameMode: (gameMode: GameModesType) => {},\r\n});\r\n\r\ntype GameModeContextProviderType = {\r\n  children: ReactNode;\r\n};\r\n\r\nconst GameModeContextProvider = (props: GameModeContextProviderType) => {\r\n  const [gameMode, setGameMode] = useState(initialGameMode);\r\n\r\n  useEffect(() => {\r\n    localStorageService.setItem(localStorageKey, gameMode);\r\n  }, [gameMode]);\r\n\r\n  const changeGameMode = (gameMode: GameModesType) => {\r\n    setGameMode(gameMode);\r\n  };\r\n\r\n  return (\r\n    <GameModeContext.Provider\r\n      value={{ gameMode: gameMode, setGameMode: changeGameMode }}\r\n    >\r\n      {props.children}\r\n    </GameModeContext.Provider>\r\n  );\r\n};\r\n\r\nexport default GameModeContextProvider;\r\n","import styles from \"./DropdownMenuItem.module.scss\";\r\n\r\ntype DropdownMenuItemProps = {\r\n  name: any;\r\n  onMouseEnterHandler: () => void;\r\n  onClickHandler: () => void;\r\n  isActive?: boolean;\r\n};\r\n\r\nconst DropdownMenuItem = (props: DropdownMenuItemProps) => {\r\n  const style = props.isActive\r\n    ? `${styles.item} ${styles.active}`\r\n    : styles.item;\r\n\r\n  return (\r\n    <div\r\n      className={style}\r\n      onMouseEnter={() => {\r\n        props.onMouseEnterHandler();\r\n      }}\r\n      onClick={() => {\r\n        props.onClickHandler();\r\n      }}\r\n    >\r\n      {props.name}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DropdownMenuItem;\r\n","import styles from \"./DropdownMenu.module.scss\";\r\nimport { ReactNode } from \"react\";\r\n\r\ntype DropdownMenuPropsType = {\r\n  info: string;\r\n  children: ReactNode;\r\n};\r\n\r\nconst DropdownMenu = (props: DropdownMenuPropsType) => {\r\n  return (\r\n    <div className={styles.dropdown_menu}>\r\n      <ul className={styles.dropdown_menu_ul}>{props.children}</ul>\r\n      <p className={styles.dropdown_menu_p}>{props.info}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DropdownMenu;\r\n","import styles from \"./Dropdown.module.scss\";\r\n\r\ntype DropdownProps = {\r\n  children: JSX.Element;\r\n};\r\n\r\nconst Dropdown = (props: DropdownProps) => {\r\n  return <div className={styles.dropdown}>{props.children}</div>;\r\n};\r\n\r\nexport default Dropdown;\r\n","import styles from \"./NavbarItem.module.scss\";\r\n\r\nimport { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\ntype NavbarItemProps = {\r\n  name: string;\r\n  route: string;\r\n  children: JSX.Element;\r\n};\r\n\r\nconst NavbarItem = (props: NavbarItemProps) => {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const onMouseEnterHandler = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const onMouseLeaveHandler = () => {\r\n    setOpen(false);\r\n  };\r\n  return (\r\n    <li\r\n      className={styles.nav_item}\r\n      onMouseEnter={onMouseEnterHandler}\r\n      onMouseLeave={onMouseLeaveHandler}\r\n    >\r\n      <Link to={props.route} className={styles.nav_item_button}>\r\n        {props.name}\r\n      </Link>\r\n      {open && props.children}\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default NavbarItem;\r\n","import styles from \"./Navbar.module.scss\";\r\nimport { useState, useContext } from \"react\";\r\nimport { GameModeInfo } from \"../../logic/game-mode-info\";\r\nimport { GameModeContext } from \"../../context/gameMode-context\";\r\nimport DropdownMenuItem from \"./dropdown-menu/dropdown-menu-item/DropdownMenuItem\";\r\nimport DropdownMenu from \"./dropdown-menu/DropdownMenu\";\r\nimport Dropdown from \"./dropdown/Dropdown\";\r\nimport NavbarItem from \"./navbar-items/NavbarItem\";\r\nimport { simulationInfo } from \"../../logic/simulationInfo\";\r\nimport { typedObjectKeys } from \"../../helpers/typedObjectKeys\";\r\nimport { useHistory, useLocation } from \"react-router\";\r\n\r\nconst gameModeInfoKeys = typedObjectKeys(GameModeInfo);\r\n\r\nconst Navbar = () => {\r\n  const [info, setInfo] = useState(GameModeInfo.PvsP);\r\n  const { setGameMode, gameMode } = useContext(GameModeContext);\r\n  const history = useHistory();\r\n  let { pathname } = useLocation();\r\n  return (\r\n    <nav className={styles.navbar}>\r\n      <ul className={styles.navbar_ul}>\r\n        <NavbarItem name=\"Game Modes\" route=\"/\">\r\n          <DropdownMenu info={info}>\r\n            {gameModeInfoKeys.map((key) => {\r\n              return (\r\n                <DropdownMenuItem\r\n                  name={key}\r\n                  onMouseEnterHandler={() => {\r\n                    setInfo(GameModeInfo[key]);\r\n                  }}\r\n                  key={key}\r\n                  isActive={key === gameMode}\r\n                  onClickHandler={() => {\r\n                    if (gameMode === key && pathname === \"/\") return;\r\n                    history.push(\"/\");\r\n                    setTimeout(() => {\r\n                      setGameMode(key);\r\n                    }, 200);\r\n                  }}\r\n                />\r\n              );\r\n            })}\r\n          </DropdownMenu>\r\n        </NavbarItem>\r\n        <NavbarItem name=\"Simulate\" route=\"/sim\">\r\n          <Dropdown>\r\n            <p>{simulationInfo}</p>\r\n          </Dropdown>\r\n        </NavbarItem>\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","export const typedObjectKeys = <T>(object: T) => {\r\n  type Keys = keyof typeof object;\r\n  let k: Keys;\r\n  let arr: Keys[] = [];\r\n  for (k in object) {\r\n    arr = [...arr, k];\r\n  }\r\n  return arr;\r\n};\r\n","export const simulationInfo = \"Simulate up to 50 games of AIvsAI\";\r\n","import { CellKind } from \"../types/cellKind\";\r\n\r\n\r\nexport const checkForWinner = (gameState: CellKind[]) => {\r\n  const lengthSqrt = Math.sqrt(gameState.length);\r\n\r\n  const rowSet = new Set<CellKind>();\r\n  const rowKeys: number[] = [];\r\n\r\n  const columnSet = new Set<CellKind>();\r\n  const columnKeys: number[] = [];\r\n\r\n  const diagonalSet = new Set<CellKind>();\r\n  const diagonalKeys: number[] = [];\r\n\r\n  const checkForDrawSet = new Set<CellKind>();\r\n\r\n  for (let i = 0; i < lengthSqrt; i++) {\r\n    let indexDiagonal = i;\r\n    for (let j = 0; j < lengthSqrt; j++) {\r\n      let indexRow = i * lengthSqrt + j;\r\n      let indexColumn = i + lengthSqrt * j;\r\n      rowSet.add(gameState[indexRow]);\r\n      rowKeys.push(indexRow);\r\n\r\n      columnSet.add(gameState[indexColumn]);\r\n      columnKeys.push(indexColumn);\r\n\r\n      checkForDrawSet.add(gameState[indexRow]);\r\n\r\n      if (i === 0) {\r\n        diagonalSet.add(gameState[indexDiagonal]);\r\n        diagonalKeys.push(indexDiagonal);\r\n        indexDiagonal += lengthSqrt + 1;\r\n      }\r\n\r\n      if (i === lengthSqrt - 1) {\r\n        diagonalSet.add(gameState[indexDiagonal]);\r\n        diagonalKeys.push(indexDiagonal);\r\n        indexDiagonal += lengthSqrt - 1;\r\n      }\r\n    }\r\n\r\n    if (rowSet.size === 1 && !rowSet.has(CellKind.Empty)) {\r\n      const winner: CellKind = rowSet.values().next().value;\r\n      return { winner: winner, winCombination: rowKeys };\r\n    }\r\n\r\n    if (columnSet.size === 1 && !columnSet.has(CellKind.Empty)) {\r\n      const winner: CellKind = columnSet.values().next().value;\r\n      return { winner: winner, winCombination: columnKeys };\r\n    }\r\n\r\n    if (diagonalSet.size === 1 && !diagonalSet.has(CellKind.Empty)) {\r\n      const winner: CellKind = diagonalSet.values().next().value;\r\n      return { winner: winner, winCombination: diagonalKeys };\r\n    }\r\n\r\n    rowSet.clear();\r\n    rowKeys.length = 0;\r\n\r\n    columnSet.clear();\r\n    columnKeys.length = 0;\r\n\r\n    diagonalSet.clear();\r\n    diagonalKeys.length = 0;\r\n  }\r\n\r\n  if (!checkForDrawSet.has(CellKind.Empty)) {\r\n    return { winner: CellKind.Empty, winCombination: [] };\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport type CheckForWinnerReturnType = ReturnType<typeof checkForWinner>;\r\n","import { CellKind } from \"../types/cellKind\";\r\nimport { checkForWinner } from \"./checkForWinner\";\r\n\r\nconst getRandomIntInclusive = (min: number, max: number) => {\r\n  min = Math.ceil(min);\r\n  max = Math.floor(max);\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n};\r\n\r\nconst getEmptySpotsArray = (gameState: CellKind[]) => {\r\n  return gameState.reduce<number[]>((prevVal, curVal, index) => {\r\n    if (curVal === CellKind.Empty) {\r\n      prevVal.push(index);\r\n      return prevVal;\r\n    }\r\n    return prevVal;\r\n  }, []);\r\n};\r\n\r\nexport const randomAi = (gameState: CellKind[]) => {\r\n  const emptySpotsArray = getEmptySpotsArray(gameState);\r\n\r\n  const index = getRandomIntInclusive(0, emptySpotsArray.length - 1);\r\n\r\n  return emptySpotsArray[index];\r\n};\r\n\r\nexport const miniMaxScope = (\r\n  gameState: CellKind[],\r\n  aiPlayer: CellKind,\r\n  opponent: CellKind\r\n): number => {\r\n  const miniMax = (\r\n    gameState: CellKind[],\r\n    player: CellKind,\r\n    memo: any = {}\r\n  ): { score: number; index: number } => {\r\n    const target = JSON.stringify(gameState);\r\n\r\n    if (target in memo) {\r\n      return memo[target];\r\n    }\r\n\r\n    const emptySpotsArray = getEmptySpotsArray(gameState);\r\n\r\n    const winner = checkForWinner(gameState);\r\n\r\n    if (winner) {\r\n      if (winner.winner === aiPlayer) {\r\n        const result = { score: 10, index: -1 };\r\n        memo[target] = result;\r\n        return result;\r\n      }\r\n\r\n      if (winner.winner === opponent) {\r\n        const result = { score: -10, index: -1 };\r\n        memo[target] = result;\r\n        return result;\r\n      }\r\n\r\n      if (winner.winner === CellKind.Empty) {\r\n        const result = { score: 0, index: -1 };\r\n        memo[target] = result;\r\n        return result;\r\n      }\r\n    }\r\n\r\n    const moves: { index: number; score: number }[] = emptySpotsArray.map(\r\n      (item) => {\r\n        const move: { index: number; score: number } = {\r\n          index: item,\r\n          score: 0,\r\n        };\r\n\r\n        const currentGameState = gameState.map((item, index) => {\r\n          if (index === move.index) {\r\n            return player;\r\n          }\r\n          return item;\r\n        });\r\n\r\n        if (player === aiPlayer) {\r\n          move.score = miniMax(currentGameState, opponent).score;\r\n        }\r\n\r\n        if (player === opponent) {\r\n          move.score = miniMax(currentGameState, aiPlayer).score;\r\n        }\r\n\r\n        return move;\r\n      }\r\n    );\r\n\r\n    let bestMove = moves[0];\r\n\r\n    if (player === aiPlayer) {\r\n      bestMove = moves.reduce((item, curValue) => {\r\n        return item.score > curValue.score ? item : curValue;\r\n      }, moves[0]);\r\n    }\r\n\r\n    if (player === opponent) {\r\n      bestMove = moves.reduce((item, curValue) => {\r\n        return item.score < curValue.score ? item : curValue;\r\n      }, moves[0]);\r\n    }\r\n    memo[target] = bestMove;\r\n    return bestMove;\r\n  };\r\n\r\n  return miniMax(gameState, aiPlayer).index;\r\n};\r\n","export const bindTrailingArgs = <T extends (...args: any) => ReturnType<T>>(\r\n  func: T,\r\n  ...boundArgs: Parameters<T>[number][]\r\n) => {\r\n  return (...args: Parameters<T>[number][]) => {\r\n    const allArgs = [...args, ...boundArgs];\r\n    return func(...allArgs);\r\n  };\r\n};\r\n","import styles from \"./AIvsAI.module.scss\";\r\nimport Select from \"../../../../components/atoms/select/Select\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { randomAi, miniMaxScope } from \"../../../../logic/AI\";\r\nimport Button from \"../../../../components/atoms/button/Button\";\r\nimport { bindTrailingArgs } from \"../../../../helpers/bindTrailingArgs\";\r\nimport { CellKind } from \"../../../../types/cellKind\";\r\n\r\nconst options = [\r\n  { value: \"random\", label: \"RandomAI\" },\r\n  { value: \"miniMax\", label: \"MiniMax\" },\r\n];\r\n\r\ntype AIvsAIpropsType = {\r\n  turn: CellKind;\r\n  moveAI: (aiFunc: (gameState: CellKind[]) => number) => void;\r\n  isWin: boolean;\r\n};\r\n\r\nconst AIvsAI = ({ isWin, moveAI, turn }: AIvsAIpropsType) => {\r\n  const [circleAi, setCircleAi] = useState(options[0].value);\r\n  const [crossAi, setCrossAi] = useState(options[0].value);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!isPlaying) return;\r\n    const timeOut = setTimeout(() => {\r\n      let aiFunc = randomAi;\r\n      if (turn === CellKind.Circle) {\r\n        if (circleAi === \"miniMax\") {\r\n          aiFunc = bindTrailingArgs(\r\n            miniMaxScope,\r\n            CellKind.Circle,\r\n            CellKind.Cross\r\n          );\r\n        }\r\n      }\r\n\r\n      if (turn === CellKind.Cross) {\r\n        if (crossAi === \"miniMax\") {\r\n          aiFunc = bindTrailingArgs(\r\n            miniMaxScope,\r\n            CellKind.Cross,\r\n            CellKind.Circle\r\n          );\r\n        }\r\n      }\r\n      moveAI(aiFunc);\r\n    }, 400);\r\n    return () => {\r\n      clearTimeout(timeOut);\r\n    };\r\n  }, [isPlaying, moveAI, turn, circleAi, crossAi]);\r\n\r\n  useEffect(() => {\r\n    if (isWin) {\r\n      setIsPlaying(false);\r\n    }\r\n  }, [isWin]);\r\n\r\n  const selectCircleAi = (value: string) => {\r\n    setCircleAi(value);\r\n  };\r\n\r\n  const selectCrossAi = (value: string) => {\r\n    setCrossAi(value);\r\n  };\r\n\r\n  const onClickHandler = () => {\r\n    if (isPlaying) return;\r\n    setIsPlaying(true);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.aivsai_div}>\r\n      <Select\r\n        options={options}\r\n        value={circleAi}\r\n        onChange={selectCircleAi}\r\n        name=\"Circle AI: \"\r\n      />\r\n      <Select\r\n        options={options}\r\n        value={crossAi}\r\n        onChange={selectCrossAi}\r\n        name=\"Cross AI: \"\r\n      />\r\n      <Button onClick={onClickHandler} name=\"Play\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AIvsAI;\r\n","import { useEffect, useState, Dispatch } from \"react\";\r\n\r\nconst useStateRelatedToProp = <T>(\r\n  prop: T\r\n): [T, Dispatch<React.SetStateAction<T>>] => {\r\n  const [state, setState] = useState(prop);\r\n\r\n  useEffect(() => {\r\n    setState(prop);\r\n  }, [prop]);\r\n\r\n  return [state, setState];\r\n};\r\n\r\nexport default useStateRelatedToProp;\r\n","import Select from \"../../../../components/atoms/select/Select\";\r\nimport useStateRelatedToProp from \"../../../../hooks/useStateRelatedToProp\";\r\n\r\nconst options = [\r\n  { value: \"3\", label: \"3x3\" },\r\n  { value: \"4\", label: \"4x4\" },\r\n  { value: \"5\", label: \"5x5\" },\r\n];\r\n\r\ntype PvsPpropsType = {\r\n  onChange: (size: number) => void;\r\n  initialSize: number;\r\n};\r\n\r\nconst PvsP = (props: PvsPpropsType) => {\r\n  const [gridSize, setGridSize] = useStateRelatedToProp(\r\n    props.initialSize.toString()\r\n  );\r\n\r\n  const onChange = (size: string) => {\r\n    setGridSize(size);\r\n    props.onChange(+size);\r\n  };\r\n\r\n  return (\r\n    <Select\r\n      options={options}\r\n      value={gridSize}\r\n      onChange={onChange}\r\n      name=\"Size:\"\r\n    />\r\n  );\r\n};\r\n\r\nexport default PvsP;\r\n","import { CellKind } from \"../types/cellKind\";\r\n\r\nexport const generateEmptyGameState = (size: number) => {\r\n  const length = size * size;\r\n  const gameState = [];\r\n\r\n  for (let i = 0; i < length; i++) {\r\n    gameState.push(CellKind.Empty);\r\n  }\r\n\r\n  return gameState;\r\n};\r\n","import { useCallback, useMemo } from \"react\";\r\nimport useLocalStorage from \"./useLocalStorage\";\r\n\r\nconst useUndoRedo = <T extends any[]>(key: string, initialArray: T) => {\r\n  const initialiazeState = useMemo(() => {\r\n    return { array: initialArray, index: 0 };\r\n  }, [initialArray]);\r\n\r\n  const [history, setHistory] = useLocalStorage(key, initialiazeState);\r\n\r\n  type ArrayItemType = typeof history.array[0];\r\n\r\n  const addItemToHistory = useCallback(\r\n    (item: ArrayItemType) => {\r\n      setHistory((prevState) => {\r\n        let array = [...prevState.array] as T;\r\n        let index = prevState.index;\r\n        if (index < array.length - 1) {\r\n          array = array.slice(0, index + 1) as T;\r\n          index = array.length - 1;\r\n        }\r\n        index++;\r\n        array = [...array, [...item]] as T;\r\n        return { array, index };\r\n      });\r\n    },\r\n    [setHistory]\r\n  );\r\n\r\n  const resetHistory = useCallback(() => {\r\n    setHistory(initialiazeState);\r\n  }, [setHistory, initialiazeState]);\r\n\r\n  const undo = () => {\r\n    setHistory((prevState) => {\r\n      return { ...prevState, index: prevState.index - 1 };\r\n    });\r\n  };\r\n\r\n  const redo = () => {\r\n    setHistory((prevState) => {\r\n      return { ...prevState, index: prevState.index + 1 };\r\n    });\r\n  };\r\n\r\n  return { undo, redo, addItemToHistory, history, setHistory, resetHistory };\r\n};\r\n\r\nexport default useUndoRedo;\r\n","import { useEffect, useRef } from \"react\";\r\nimport { generateEmptyGameState } from \"../../../../helpers/generateEmptyGameState\";\r\nimport Button from \"../../../../components/atoms/button/Button\";\r\nimport { randomAi } from \"../../../../logic/AI\";\r\nimport useUndoRedo from \"../../../../hooks/useUndoRedo\";\r\nimport { CellKind } from \"../../../../types/cellKind\";\r\n\r\ntype EasyPropsType = {\r\n  gameState: CellKind[];\r\n  turn: CellKind;\r\n  changeState: (gameState: CellKind[]) => void;\r\n  isWin: boolean;\r\n};\r\n\r\nconst initialState = [generateEmptyGameState(3)];\r\n\r\nconst Easy = ({ gameState, turn, changeState, isWin }: EasyPropsType) => {\r\n  const { history, undo, redo, resetHistory, addItemToHistory } = useUndoRedo(\r\n    \"history\",\r\n    initialState\r\n  );\r\n  const initialRender = useRef(true);\r\n\r\n  useEffect(() => {\r\n    if (initialRender.current) {\r\n      initialRender.current = false;\r\n    }\r\n\r\n    changeState(history.array[history.index]);\r\n  }, [history.index, history.array, changeState]);\r\n\r\n  useEffect(() => {\r\n    if (isWin) {\r\n      resetHistory();\r\n      return;\r\n    }\r\n\r\n    if (turn === CellKind.Cross) {\r\n      const timeout = setTimeout(() => {\r\n        const gameStateCopy = [...gameState];\r\n        const indexMove = randomAi(gameState);\r\n        gameStateCopy[indexMove] = CellKind.Cross;\r\n        addItemToHistory(gameStateCopy);\r\n      }, 300);\r\n      return () => {\r\n        clearTimeout(timeout);\r\n      };\r\n    }\r\n  }, [turn, isWin, gameState, resetHistory, addItemToHistory]);\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        onClick={redo}\r\n        disabled={history.index >= history.array.length - 1 || isWin}\r\n        name=\"REDO\"\r\n      />\r\n      <Button\r\n        onClick={undo}\r\n        disabled={history.index <= 0 || isWin}\r\n        name=\"UNDO\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Easy;\r\n","import styles from \"./HomePage.module.scss\";\r\nimport { useState, useEffect, useContext, useCallback } from \"react\";\r\nimport useLocalStorage from \"../../hooks/useLocalStorage\";\r\nimport Gameboard from \"../../components/Gameboard/Gameboard\";\r\nimport AbsoluteWrapper from \"../../components/absolute-wrapper/AbsoluteWrapper\";\r\nimport AIvsAI from \"./home-page-components/AivsAi-mode/AivsAi\";\r\nimport PvsP from \"./home-page-components/PvsP-mode/PvsP\";\r\nimport Easy from \"./home-page-components/easy-mode/Easy\";\r\nimport Button from \"../../components/atoms/button/Button\";\r\nimport { GameModeContext } from \"../../context/gameMode-context\";\r\nimport { miniMaxScope } from \"../../logic/AI\";\r\nimport { bindTrailingArgs } from \"../../helpers/bindTrailingArgs\";\r\nimport {\r\n  checkForWinner,\r\n  CheckForWinnerReturnType,\r\n} from \"../../logic/checkForWinner\";\r\nimport { CellKind } from \"../../types/cellKind\";\r\nimport { generateEmptyGameState } from \"../../helpers/generateEmptyGameState\";\r\n\r\nlet initialState = {\r\n  turn: CellKind.Circle,\r\n  gameState: generateEmptyGameState(3),\r\n};\r\n\r\ntype GameboardState = typeof initialState;\r\n\r\nconst HomePage = () => {\r\n  const [win, setWin] = useState<CheckForWinnerReturnType | null>(null);\r\n  const { gameMode } = useContext(GameModeContext);\r\n  const [state, setState] = useLocalStorage<GameboardState>(\r\n    gameMode,\r\n    initialState\r\n  );\r\n\r\n  useEffect(() => {\r\n    const winner = checkForWinner(state.gameState);\r\n    if (winner && winner.winner !== win?.winner) {\r\n      setWin(winner);\r\n    }\r\n  }, [state.gameState, gameMode, win]);\r\n\r\n  const move = useCallback(\r\n    (index: number) => {\r\n      if (win) return;\r\n      setState((prevState) => {\r\n        const changedGameboardState = [...prevState.gameState];\r\n\r\n        changedGameboardState[index] = prevState.turn;\r\n\r\n        let turn = CellKind.Circle;\r\n\r\n        if (prevState.turn === CellKind.Circle) {\r\n          turn = CellKind.Cross;\r\n        }\r\n\r\n        const curState: GameboardState = {\r\n          turn: turn,\r\n          gameState: changedGameboardState,\r\n        };\r\n        return curState;\r\n      });\r\n    },\r\n    [win, setState]\r\n  );\r\n\r\n  const aiMove = useCallback(\r\n    (aiFunc: (gameState: CellKind[]) => number) => {\r\n      if (win) return;\r\n      const index = aiFunc(state.gameState);\r\n      move(index);\r\n    },\r\n    [state.gameState, win, move]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (gameMode === \"Hard\" && state.turn === CellKind.Cross) {\r\n      const timeout = setTimeout(() => {\r\n        const bindedMinimax = bindTrailingArgs(\r\n          miniMaxScope,\r\n          CellKind.Cross,\r\n          CellKind.Circle\r\n        );\r\n        aiMove(bindedMinimax);\r\n      }, 300);\r\n      return () => {\r\n        clearTimeout(timeout);\r\n      };\r\n    }\r\n  }, [state.turn, gameMode, aiMove]);\r\n\r\n  const humanMove = (index: number) => {\r\n    if (gameMode === \"AIvsAI\") return;\r\n    if (\r\n      (gameMode === \"Easy\" || gameMode === \"Hard\") &&\r\n      state.turn === CellKind.Cross\r\n    )\r\n      return;\r\n    move(index);\r\n  };\r\n\r\n  const restartState = () => {\r\n    setState((prevState) => {\r\n      return {\r\n        turn: CellKind.Circle,\r\n        gameState: generateEmptyGameState(\r\n          Math.sqrt(prevState.gameState.length)\r\n        ),\r\n      };\r\n    });\r\n    setWin(null);\r\n  };\r\n\r\n  const changeState = useCallback(\r\n    (gamestate: CellKind[]) => {\r\n      if (win) return;\r\n      setState({\r\n        turn: CellKind.Circle,\r\n        gameState: gamestate,\r\n      });\r\n    },\r\n    [win, setState]\r\n  );\r\n\r\n  const changeGridSize = (size: number) => {\r\n    setState({ ...initialState, gameState: generateEmptyGameState(size) });\r\n    setWin(null);\r\n  };\r\n\r\n  let turn: string | CellKind = state.turn;\r\n\r\n  if (gameMode === \"Easy\" || gameMode === \"Hard\") {\r\n    if (state.turn === CellKind.Cross) {\r\n      turn = \"AI\";\r\n    }\r\n\r\n    if (state.turn === CellKind.Circle) {\r\n      turn = \"Your\";\r\n    }\r\n  }\r\n\r\n  let winText = \"Winner: \";\r\n\r\n  if (win) {\r\n    winText = winText + win.winner;\r\n    if (win.winner === CellKind.Empty) {\r\n      winText = \"Draw\";\r\n    }\r\n  }\r\n\r\n  return (\r\n    <AbsoluteWrapper>\r\n      <div className={styles.homepage}>\r\n        {!win && <h1>{`${turn} turn`}</h1>}\r\n        {win && <h1>{winText}</h1>}\r\n        {gameMode === \"PvsP\" && (\r\n          <PvsP\r\n            onChange={changeGridSize}\r\n            initialSize={Math.sqrt(state.gameState.length)}\r\n          />\r\n        )}\r\n        {gameMode === \"AIvsAI\" && (\r\n          <AIvsAI turn={state.turn} moveAI={aiMove} isWin={win !== null} />\r\n        )}\r\n        {gameMode === \"Easy\" && (\r\n          <Easy\r\n            gameState={state.gameState}\r\n            turn={state.turn}\r\n            changeState={changeState}\r\n            isWin={win !== null}\r\n          />\r\n        )}\r\n        <div className={styles.homepage_div_gameboard}>\r\n          <Gameboard\r\n            gameState={state.gameState}\r\n            winCombination={win?.winCombination}\r\n            clickHandler={humanMove}\r\n          />\r\n        </div>\r\n        {win && <Button onClick={restartState} name=\"Restart\" />}\r\n      </div>\r\n    </AbsoluteWrapper>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","import React from \"react\";\nimport { useTransition, config, animated } from \"@react-spring/web\";\nimport Navbar from \"./components/navbar/Navbar\";\nimport HomePage from \"./pages/home-page/HomePage\";\nimport SimulationPage from \"./pages/simulation-page/SimulationPage\";\nimport { Switch, Route, useLocation } from \"react-router-dom\";\n\nconst App = () => {\n  const location = useLocation();\n  const transitions = useTransition(location, {\n    config: config.slow,\n    from: { opacity: 0, transform: \"translate(100%, 0)\" },\n    enter: { opacity: 1, transform: \"translate(0, 0)\" },\n    leave: { opacity: 0, transform: \"translate(-50%, 0)\" },\n  });\n\n  return (\n    <React.Fragment>\n      <Navbar />\n      {transitions((props, item) => (\n        <animated.div style={{ ...props }}>\n          <Switch location={item}>\n            <Route path=\"/sim\" component={SimulationPage} />\n            <Route path=\"/\" component={HomePage} />\n          </Switch>\n        </animated.div>\n      ))}\n    </React.Fragment>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\n\nimport GameModeContextProvider from \"./context/gameMode-context\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename=\"/tic-tac-toe\">\n      <GameModeContextProvider>\n        <App />\n      </GameModeContextProvider>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}